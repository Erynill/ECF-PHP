{% extends "base.html.twig" %}

{% block title %}Auteurs
{% endblock %}

{% block stylesheet %}
	<link
		rel="stylesheet"
		href="/assets/css/output.css">
{% endblock %}

{% block body %}
	{% include "components/navbar.html.twig" %}

	<main
		class="w-8/10 m-auto">
		{% if role == "admin"%}
			<a
				href="/auteurs/add">
				<button
					class="boutton bg-teal-400 hover:bg-teal-600 m-7 mt-10 text-2xl">Ajouter
				</button>
			</a>
		{% endif %}

		<div
			class="grid grid-cols-3 gap-20 w-full mt-10">
			{% for auteur in data %}
				<a
					href="/auteurs/{{auteur.id}}">
					<article
						class="card">
						{{ auteur.biographie|raw }}
					</article>
				</a>
			{% endfor %}
		</div>
		<div
			class="flex justify-center w-full my-10">
			{% if paginator.numPages > 1 %}
				<ul
					class="flex">
					{% if paginator.prevUrl %}
						<li>
							<a
								class="bg-white p-2 border"
								href="{{ paginator.prevUrl }}">&laquo; Previous
							</a>
						</li>
					{% endif %}

					{% for page in paginator.pages %}
						{% if page.url %}
							<li
								{{ page.isCurrent ? 'class="active"' : '' }}>
								<a
									class="bg-white p-2 border"
									href="{{ page.url }}">{{ page.num }}
								</a>
							</li>
						{% else %}
							<li
								class="disabled">
								<span>{{ page.num }}
								</span>
							</li>
						{% endif %}
					{% endfor %}

					{% if paginator.nextUrl %}
						<li>
							<a
								class="bg-white p-2 border"
								href="{{ paginator.nextUrl }}">Next &raquo;
							</a>
						</li>
					{% endif %}
				</ul>
			{% endif %}
		</div>
	</main>
{% endblock %}
